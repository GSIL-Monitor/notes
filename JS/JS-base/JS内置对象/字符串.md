> å¼•ç”¨ http://louiszhai.github.io/2016/01/12/js.String/ 

### Stringæ„é€ å™¨æ–¹æ³•

#### fromCharCode

fromCharCode() æ–¹æ³•è¿”å›ä½¿ç”¨æŒ‡å®šçš„Unicodeåºåˆ—åˆ›å»ºçš„å­—ç¬¦ä¸²ï¼Œä¹Ÿå°±æ˜¯è¯´ä¼ å…¥Unicodeåºåˆ—ï¼ˆå‚æ•°å‡ä¸ºæ•°å­—ï¼‰ï¼Œè¿”å›åŸºäºæ­¤åˆ›å»ºçš„å­—ç¬¦ä¸²ã€‚ 

```javascript
console.log(String.fromCharCode(65));// A
console.log(String.fromCharCode(42)); // *
console.log(String.fromCharCode(78,79));// NO
console.log(String.fromCharCode(56,57,58,59));// 89:;
```

#### fromCodePointï¼ˆES6ï¼‰

ä½œç”¨å’Œè¯­æ³•åŒfromCharCodeæ–¹æ³•ï¼Œè¯¥æ–¹æ³•ä¸»è¦æ‰©å±•äº†å¯¹4å­—èŠ‚å­—ç¬¦çš„æ”¯æŒã€‚ 

```javascript
// "ğŒ†" æ˜¯ä¸€ä¸ª4å­—èŠ‚å­—ç¬¦
"ğŒ†".codePointAt(); // 119558
String.fromCharCode(119558); // "íŒ†"
String.fromCodePoint(119558); // "ğŒ†"
```

é™¤äº†æ‰©å±•å¯¹4å­—èŠ‚çš„æ”¯æŒå¤–ï¼ŒfromCodePointè¿˜è§„èŒƒäº†é”™è¯¯å¤„ç†ï¼Œåªè¦æ˜¯æ— æ•ˆçš„Unicodeç¼–ç ï¼Œå°±ä¼šæŠ›å‡ºé”™è¯¯`RangeError: Invalid code point...`ï¼Œè¿™å°±æ„å‘³ç€ï¼Œåªè¦ä¸æ˜¯ç¬¦åˆUnicodeå­—ç¬¦èŒƒå›´çš„æ­£æ•´æ•°ï¼ˆUnicodeæœ€å¤šå¯å®¹çº³1114112ä¸ªç ä½ï¼‰ï¼Œå‡ä¼šæŠ›å‡ºé”™è¯¯ã€‚ 

#### rawï¼ˆES6ï¼‰

å®ƒæ˜¯ä¸€ä¸ªæ¨¡æ¿å­—ç¬¦ä¸²çš„æ ‡ç­¾å‡½æ•°ï¼Œä½œç”¨ç±»ä¼¼äºPythonçš„rå’ŒC#çš„@å­—ç¬¦ä¸²å‰ç¼€ï¼Œéƒ½æ˜¯ç”¨æ¥è·å–ä¸€ä¸ªæ¨¡æ¿å­—ç¬¦ä¸²çš„åŸå§‹å­—é¢é‡ã€‚ 

String.rawä½œä¸ºå‰ç¼€çš„ç”¨æ³•ï¼š

```javascript
// ç”¨æ¥ä¿è¯å­—ç¬¦ä¸²ä¸è½¬ä¹‰
console.log(String.raw`a\nb\tc`);   // a\nb\tc
let name="zgq";
console.log(String.raw`Hello \n ${name}`);  // Hello \n zgq
console.log(String.raw`1+2=${1+2},2*3=${2*3}`); // "1+2=3,2*3=6"
```

String.rawä½œä¸ºå‡½æ•°æ¥è°ƒç”¨çš„åœºæ™¯

```JavaScript
// å¯¹è±¡çš„rawå±æ€§å€¼ä¸ºå­—ç¬¦ä¸²æ—¶ï¼Œä»ç¬¬äºŒä¸ªå‚æ•°èµ·ï¼Œå®ƒä»¬åˆ†åˆ«è¢«æ’å…¥åˆ°ä¸‹æ ‡ä¸º0ï¼Œ1ï¼Œ2ï¼Œ...nçš„å…ƒç´ åé¢
console.log(String.raw({raw:"abcd"},1,2,3));  // a1b2c3d
// å¯¹è±¡çš„rawå±æ€§å€¼ä¸ºæ•°ç»„æ—¶ï¼Œä»ç¬¬äºŒä¸ªå‚æ•°èµ·ï¼Œå®ƒä»¬åˆ†åˆ«è¢«æ’å…¥åˆ°æ•°ç»„ä¸‹æ ‡ä¸º0ï¼Œ1ï¼Œ2ï¼Œ...nçš„å…ƒç´ åé¢
console.log(String.raw({raw: ['a', 'b', 'c', 'd']}, 1, 2, 3)); // "a1b2c3d"
```

String.rawä½œä¸ºå‡½æ•°è°ƒç”¨æ—¶ï¼ŒåŸºæœ¬ä¸ES6çš„tagæ ‡ç­¾æ¨¡æ¿ä¸€æ ·ã€‚ 

```JavaScript
function tag() {
    const array=arguments[0];
    return array.reduce((p,v,i)=>{
        return p+(arguments[i]||"")+v;
    });
}
console.log(tag([1,2,3,4,5]));
console.log(tag`Hello ${ 2 + 3 } world ${ 2 * 3 }`);
// ç­‰ä»·äºå¦‚ä¸‹è°ƒç”¨
console.log(tag(['Hello ',' world ',''],5,6));
```

#### String.prototype

å’Œå…¶ä»–æ‰€æœ‰å¯¹è±¡ä¸€æ ·ï¼Œå­—ç¬¦ä¸²å®ä¾‹çš„æ‰€æœ‰æ–¹æ³•å‡æ¥è‡ªString.prototypeã€‚ä»¥ä¸‹æ˜¯å®ƒçš„å±æ€§ç‰¹æ€§ï¼š 

| ç‰¹å¾         | ç‰¹å¾å€¼ |
| ------------ | ----- |
| writable     | false |
| enumerable   | false |
| configurable | false |

å­—ç¬¦ä¸²å±æ€§ä¸å¯ç¼–è¾‘ï¼Œä»»ä½•è¯•å›¾æ”¹å˜å®ƒå±æ€§çš„è¡Œä¸ºéƒ½å°†æŠ›å‡ºé”™è¯¯ã€‚ 

##### å±æ€§

String.prototypeå…±æœ‰ä¸¤ä¸ªå±æ€§ï¼Œå¦‚ä¸‹ï¼š

- String.prototype.constructor æŒ‡å‘æ„é€ å™¨(String())
- String.prototype.length è¡¨ç¤ºå­—ç¬¦ä¸²é•¿åº¦

### å­—ç¬¦ä¸²æ–¹æ³•

å­—ç¬¦ä¸²åŸå‹æ–¹æ³•åˆ†ä¸ºä¸¤ç§ï¼Œä¸€ç§æ˜¯htmlæ— å…³çš„æ–¹æ³•ï¼Œä¸€ç§æ˜¯htmlæœ‰å…³çš„æ–¹æ³•ã€‚ 

#### HTMLæ— å…³æ–¹æ³•

å¸¸ç”¨çš„æ–¹æ³•æœ‰ï¼ŒcharAtã€charCodeAtã€concatã€indexOfã€lastIndexOfã€localeCompareã€matchã€replaceã€searchã€sliceã€splitã€substrã€substringã€toLocaleLowerCaseã€toLocaleUpperCaseã€toLowerCaseã€toStringã€toUpperCaseã€trimã€valueof ç­‰ES5æ”¯æŒçš„ï¼Œä»¥åŠ codePointAtã€containsã€endsWithã€normalizeã€repeatã€startsWith ç­‰ES6æ”¯æŒçš„ï¼Œè¿˜åŒ…æ‹¬ quoteã€toSourceã€trimLeftã€trimRight ç­‰éæ ‡å‡†çš„ã€‚ 

##### charAt

charAt() æ–¹æ³•è¿”å›å­—ç¬¦ä¸²ä¸­æŒ‡å®šä½ç½®çš„å­—ç¬¦ã€‚ 

è¯­æ³•ï¼š*str.charAt(index)*

index ä¸ºå­—ç¬¦ä¸²ç´¢å¼•ï¼ˆå–å€¼ä»0è‡³length-1ï¼‰ï¼Œå¦‚æœè¶…å‡ºè¯¥èŒƒå›´ï¼Œåˆ™è¿”å›ç©ºä¸²ã€‚

```JavaScript
console.log("Hello, World".charAt(8)); // o, è¿”å›ä¸‹æ ‡ä¸º8çš„å­—ç¬¦ä¸²o 
```

##### charCodeAt

charCodeAt() è¿”å›æŒ‡å®šç´¢å¼•å¤„å­—ç¬¦çš„ Unicode æ•°å€¼ 

è¯­æ³•ï¼š*str.charCodeAt(index)*

index ä¸ºä¸€ä¸ªä»0è‡³length-1çš„æ•´æ•°ã€‚å¦‚æœä¸æ˜¯ä¸€ä¸ªæ•°å€¼ï¼Œåˆ™é»˜è®¤ä¸º 0ï¼Œå¦‚æœå°äº0æˆ–è€…å¤§äºå­—ç¬¦ä¸²é•¿åº¦ï¼Œåˆ™è¿”å› NaNã€‚

```JavaScript
console.log("Hello, World".charCodeAt(8)); // 111 
console.log("å‰ç«¯å·¥ç¨‹å¸ˆ".charCodeAt(2)); // 24037, å¯è§ä¹Ÿå¯ä»¥æŸ¥çœ‹ä¸­æ–‡Unicodeç¼–ç  
```

##### concat

concat() æ–¹æ³•å°†ä¸€ä¸ªæˆ–å¤šä¸ªå­—ç¬¦ä¸²æ‹¼æ¥åœ¨ä¸€èµ·ï¼Œç»„æˆæ–°çš„å­—ç¬¦ä¸²å¹¶è¿”å›ã€‚

è¯­æ³•ï¼š*str.concat(string2, string3, â€¦)*

```javascript
console.log("æ—©".concat("ä¸Š","å¥½")); // æ—©ä¸Šå¥½
```

ä½†æ˜¯ concat çš„æ€§èƒ½è¡¨ç°ä¸ä½³ï¼Œå¼ºçƒˆæ¨èä½¿ç”¨èµ‹å€¼æ“ä½œç¬¦ï¼ˆ+æˆ–+=ï¼‰ä»£æ›¿ concatã€‚â€+â€ æ“ä½œç¬¦å¤§æ¦‚å¿«äº† concat å‡ åå€ã€‚

##### indexOf/lastIndexOf

indexOf() æ–¹æ³•ç”¨äºæŸ¥æ‰¾å­å­—ç¬¦ä¸²åœ¨å­—ç¬¦ä¸²ä¸­é¦–æ¬¡å‡ºç°çš„ä½ç½®ï¼Œæ²¡æœ‰åˆ™è¿”å› -1ã€‚è¯¥æ–¹æ³•ä¸¥æ ¼åŒºåˆ†å¤§å°å†™ï¼Œå¹¶ä¸”ä»å·¦å¾€å³æŸ¥æ‰¾ã€‚è€Œ lastIndexOf åˆ™ä»å³å¾€å·¦æŸ¥æ‰¾ï¼Œå…¶å®ƒä¸å‰è€…ä¸€è‡´ï¼ˆéœ€è¦æ³¨æ„ï¼Œè™½ç„¶æ˜¯ä»å³å‘å·¦æŸ¥æ‰¾ï¼Œä½†æ˜¯é¡ºåºä¾ç„¶æ˜¯ä»å·¦åˆ°å³çš„åæ ‡æ’åºçš„ï¼‰ã€‚

è¯­æ³•ï¼š*str.indexOf(searchValue [, fromIndex=0])*ï¼Œ*str.lastIndexOf(searchValue [, fromIndex=0])*

searchValue è¡¨ç¤ºè¢«æŸ¥æ‰¾çš„å­—ç¬¦ä¸²ï¼ŒfromIndex è¡¨ç¤ºå¼€å§‹æŸ¥æ‰¾çš„ä½ç½®ï¼Œé»˜è®¤ä¸º0ï¼Œå¦‚æœå°äº0ï¼Œåˆ™æŸ¥æ‰¾æ•´ä¸ªå­—ç¬¦ä¸²ï¼Œè‹¥è¶…è¿‡å­—ç¬¦ä¸²é•¿åº¦ï¼Œåˆ™è¯¥æ–¹æ³•è¿”å›-1ï¼Œé™¤éè¢«æŸ¥æ‰¾çš„æ˜¯ç©ºå­—ç¬¦ä¸²ï¼Œæ­¤æ—¶è¿”å›å­—ç¬¦ä¸²é•¿åº¦ã€‚

```javascript
console.log("".indexOf("",100)); // 0
console.log("ITæ”¹å˜ä¸–ç•Œ".indexOf("ä¸–ç•Œ")); // 4
console.log("ITæ”¹å˜ä¸–ç•Œ".lastIndexOf("ä¸–ç•Œ")); // 4
```

##### localeCompare

localeCompare() æ–¹æ³•ç”¨æ¥æ¯”è¾ƒå­—ç¬¦ä¸²ï¼Œå¦‚æœæŒ‡å®šå­—ç¬¦ä¸²åœ¨åŸå­—ç¬¦ä¸²çš„å‰é¢åˆ™è¿”å›è´Ÿæ•°ï¼Œå¦åˆ™è¿”å›æ­£æ•°æˆ–0ï¼Œå…¶ä¸­0 è¡¨ç¤ºä¸¤ä¸ªå­—ç¬¦ä¸²ç›¸åŒã€‚è¯¥æ–¹æ³•å®ç°ä¾èµ–å…·ä½“çš„æœ¬åœ°å®ç°ï¼Œä¸åŒçš„è¯­è¨€ä¸‹å¯èƒ½æœ‰ä¸åŒçš„è¿”å›ã€‚ 

è¯­æ³•ï¼š*str.localeCompare(str2 [, locales [, options]])*

```
var str = "apple";
var str2 = "orange";
console.log(str.localeCompare(str2)); // -1
console.log(str.localeCompare("123")); // 1
```

##### match

match() æ–¹æ³•ç”¨äºæµ‹è¯•å­—ç¬¦ä¸²æ˜¯å¦æ”¯æŒæŒ‡å®šæ­£åˆ™è¡¨è¾¾å¼çš„è§„åˆ™ï¼Œå³ä½¿ä¼ å…¥çš„æ˜¯éæ­£åˆ™è¡¨è¾¾å¼å¯¹è±¡ï¼Œå®ƒä¹Ÿä¼šéšå¼åœ°ä½¿ç”¨`new RegExp(obj)`å°†å…¶è½¬æ¢ä¸ºæ­£åˆ™è¡¨è¾¾å¼å¯¹è±¡ã€‚

è¯­æ³•ï¼š*str.match(regexp)*

è¯¥æ–¹æ³•è¿”å›åŒ…å«åŒ¹é…ç»“æœçš„æ•°ç»„ï¼Œå¦‚æœæ²¡æœ‰åŒ¹é…é¡¹ï¼Œåˆ™è¿”å› nullã€‚

**æè¿°**

- è‹¥æ­£åˆ™è¡¨è¾¾å¼æ²¡æœ‰ g æ ‡å¿—ï¼Œåˆ™è¿”å›åŒ RegExp.exec(str) ç›¸åŒçš„ç»“æœã€‚è€Œä¸”è¿”å›çš„æ•°ç»„æ‹¥æœ‰ä¸€ä¸ªé¢å¤–çš„ input å±æ€§ï¼Œè¯¥å±æ€§åŒ…å«åŸå§‹å­—ç¬¦ä¸²ï¼Œå¦å¤–è¯¥æ•°ç»„è¿˜æ‹¥æœ‰ä¸€ä¸ª index å±æ€§ï¼Œè¯¥å±æ€§è¡¨ç¤ºåŒ¹é…å­—ç¬¦ä¸²åœ¨åŸå­—ç¬¦ä¸²ä¸­ç´¢å¼•ï¼ˆä»0å¼€å§‹ï¼‰ã€‚
- è‹¥æ­£åˆ™è¡¨è¾¾å¼åŒ…å« g æ ‡å¿—ï¼Œåˆ™è¯¥æ–¹æ³•è¿”å›ä¸€ä¸ªåŒ…å«æ‰€æœ‰åŒ¹é…ç»“æœçš„æ•°ç»„ï¼Œæ²¡æœ‰åŒ¹é…åˆ°åˆ™è¿”å› nullã€‚

```javascript
var str = "World Internet Conference";
console.log(str.match(/[a-d]/i)); // ["d", index: 4, input: "World Internet Conference"]
console.log(str.match(/[a-d]/gi)); // ["d", "C", "c"]
// RegExp æ–¹æ³•å¦‚ä¸‹
console.log(/[a-d]/gi.test(str)); // true
console.log(/[a-d]/gi.exec(str)); // ["d", index: 4, input: "World Internet Conference"]
```

ç”±ä¸Šå¯çŸ¥ï¼ŒRegExp.test(str) æ–¹æ³•åªè¦åŒ¹é…åˆ°äº†ä¸€ä¸ªå­—ç¬¦ä¹Ÿè¿”å›trueã€‚è€ŒRegExp.exec(str) æ–¹æ³•æ— è®ºæ­£åˆ™ä¸­æœ‰æ²¡æœ‰åŒ…å« g æ ‡å¿—ï¼ŒRegExp.execå°†ç›´æ¥è¿”å›ç¬¬ä¸€ä¸ªåŒ¹é…ç»“æœï¼Œä¸”è¯¥ç»“æœåŒ str.match(regexp) æ–¹æ³•ä¸åŒ…å« g æ ‡å¿—æ—¶çš„è¿”å›ä¸€è‡´ã€‚ 

##### replace

replaceæ¥æ”¶ä¸¤ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªå‚æ•°å¯ä»¥æ˜¯ä¸€ä¸ªRegExpå¯¹è±¡æˆ–è€…ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œç¬¬äºŒä¸ªå‚æ•°å¯ä»¥æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²æˆ–è€…ä¸€ä¸ªå‡½æ•°ã€‚å¦‚æœç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œé‚£ä¹ˆåªä¼šæ›¿æ¢ç¬¬ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œå¦‚æœè¦æ›¿æ¢æ‰€æœ‰çš„å­—ç¬¦ä¸²ï¼Œå”¯ä¸€çš„åŠæ³•å°±æ˜¯ä½¿ç”¨æ­£åˆ™ã€‚â€˜

```javascript
let text="cat,bat,sat,fat";
let result = text.replace("at","ond");
console.log(result);// cond,bat,sat,fat
let result2=text.replace(/at/g,"ong");
console.log(result2);// cong,bong,song,fong
```

##### search

search() æ–¹æ³•ç”¨äºæµ‹è¯•å­—ç¬¦ä¸²å¯¹è±¡æ˜¯å¦åŒ…å«æŸä¸ªæ­£åˆ™åŒ¹é…ï¼Œç›¸å½“äºæ­£åˆ™è¡¨è¾¾å¼çš„ test æ–¹æ³•ï¼Œä¸”è¯¥æ–¹æ³•æ¯” match() æ–¹æ³•æ›´å¿«ã€‚å¦‚æœåŒ¹é…æˆåŠŸï¼Œsearch() è¿”å›æ­£åˆ™è¡¨è¾¾å¼åœ¨å­—ç¬¦ä¸²ä¸­é¦–æ¬¡åŒ¹é…é¡¹çš„ç´¢å¼•ï¼Œå¦åˆ™è¿”å›-1ã€‚ 

```JavaScript
var str = "abcdefg";
console.log(str.search(/[d-g]/)); // 3, åŒ¹é…åˆ°å­ä¸²"defg",è€Œdåœ¨åŸå­—ç¬¦ä¸²ä¸­çš„ç´¢å¼•ä¸º3
```

##### slice

slice() æ–¹æ³•æå–å­—ç¬¦ä¸²çš„ä¸€éƒ¨åˆ†ï¼Œå¹¶è¿”å›æ–°çš„å­—ç¬¦ä¸²ã€‚è¯¥æ–¹æ³•æœ‰äº›ç±»ä¼¼ Array.prototype.slice æ–¹æ³•ã€‚

è¯­æ³•ï¼š*str.slice(start, end)*

é¦–å…ˆ end å‚æ•°å¯é€‰ï¼Œstartå¯å–æ­£å€¼ï¼Œä¹Ÿå¯å–è´Ÿå€¼ã€‚

å–æ­£å€¼æ—¶è¡¨ç¤ºä»ç´¢å¼•ä¸ºstartçš„ä½ç½®æˆªå–åˆ°endçš„ä½ç½®ï¼ˆä¸åŒ…æ‹¬endæ‰€åœ¨ä½ç½®çš„å­—ç¬¦ï¼Œå¦‚æœendçœç•¥åˆ™æˆªå–åˆ°å­—ç¬¦ä¸²æœ«å°¾ï¼‰ã€‚

å–è´Ÿå€¼æ—¶è¡¨ç¤ºä»ç´¢å¼•ä¸º length+start ä½ç½®æˆªå–åˆ°endæ‰€åœ¨ä½ç½®çš„å­—ç¬¦ã€‚

```JavaScript
var str = "It is our choices that show what we truly are, far more than our abilities.";
console.log(str.slice(0,-30)); // It is our choices that show what we truly are
console.log(str.slice(-30)); // , far more than our abilities.
```

##### split

split() æ–¹æ³•æŠŠåŸå­—ç¬¦ä¸²åˆ†å‰²æˆå­å­—ç¬¦ä¸²ç»„æˆæ•°ç»„ï¼Œå¹¶è¿”å›è¯¥æ•°ç»„ã€‚

è¯­æ³•ï¼š*str.split(separator, limit)*

ä¸¤ä¸ªå‚æ•°å‡æ˜¯å¯é€‰çš„ï¼Œå…¶ä¸­ separator è¡¨ç¤ºåˆ†éš”ç¬¦ï¼Œå®ƒå¯ä»¥æ˜¯å­—ç¬¦ä¸²ä¹Ÿå¯ä»¥æ˜¯æ­£åˆ™è¡¨è¾¾å¼ã€‚å¦‚æœå¿½ç•¥ separatorï¼Œåˆ™è¿”å›çš„æ•°ç»„åŒ…å«ä¸€ä¸ªç”±åŸå­—ç¬¦ä¸²ç»„æˆçš„å…ƒç´ ã€‚å¦‚æœ separator æ˜¯ä¸€ä¸ªç©ºä¸²ï¼Œåˆ™ str å°†ä¼šè¢«åˆ†å‰²æˆä¸€ä¸ªç”±åŸå­—ç¬¦ä¸²ä¸­å­—ç¬¦ç»„æˆçš„æ•°ç»„ã€‚limit è¡¨ç¤ºä»è¿”å›çš„æ•°ç»„ä¸­æˆªå–å‰ limit ä¸ªå…ƒç´ ï¼Œä»è€Œé™å®šè¿”å›çš„æ•°ç»„é•¿åº¦ã€‚

```JavaScript
var str = "today is a sunny day";
console.log(str.split()); // ["today is a sunny day"]
console.log(str.split("")); // ["t", "o", "d", "a", "y", " ", "i", "s", " ", "a", " ", "s", "u", "n", "n", "y", " ", "d", "a", "y"]
console.log(str.split(" ")); // ["today", "is", "a", "sunny", "day"]
```

ä½¿ç”¨limité™å®šè¿”å›çš„æ•°ç»„å¤§å°ï¼Œå¦‚ä¸‹ï¼š 

```javascript
var str = "today is a sunny day";
console.log(str.split(" ",1)); // ["today"]
```

ä½¿ç”¨æ­£åˆ™åˆ†éš”ç¬¦ï¼ˆRegExp separatorï¼‰ï¼Œ å¦‚ä¸‹ï¼š 

```JavaScript
console.log(str.split(/\s*is\s*/)); // ["today", "a sunny day"] 
```

è‹¥æ­£åˆ™åˆ†éš”ç¬¦é‡ŒåŒ…å«æ•è·æ‹¬å·ï¼Œåˆ™æ‹¬å·åŒ¹é…çš„ç»“æœå°†ä¼šåŒ…å«åœ¨è¿”å›çš„æ•°ç»„ä¸­ã€‚ 

```JavaScript
console.log(str.split(/(\s*is\s*)/)); // ["today", " is ", "a sunny day"] 
```

##### substr

substr() æ–¹æ³•è¿”å›å­—ç¬¦ä¸²æŒ‡å®šä½ç½®å¼€å§‹çš„æŒ‡å®šæ•°é‡çš„å­—ç¬¦ã€‚

è¯­æ³•ï¼š*str.substr(start[, length])*

start è¡¨ç¤ºå¼€å§‹æˆªå–å­—ç¬¦çš„ä½ç½®ï¼Œå¯å–æ­£å€¼æˆ–è´Ÿå€¼ã€‚å–æ­£å€¼æ—¶è¡¨ç¤ºstartä½ç½®çš„ç´¢å¼•ï¼Œå–è´Ÿå€¼æ—¶è¡¨ç¤º length+startä½ç½®çš„ç´¢å¼•ã€‚

length è¡¨ç¤ºæˆªå–çš„å­—ç¬¦é•¿åº¦ã€‚

```javascript
var str = "Yesterday is history. Tomorrow is mystery. But today is a gift.";
console.log(str.substr(47)); // today is a gift.
console.log(str.substr(-16)); // today is a gift.
```

##### substring

substring() æ–¹æ³•è¿”å›å­—ç¬¦ä¸²ä¸¤ä¸ªç´¢å¼•ä¹‹é—´çš„å­ä¸²ã€‚

è¯­æ³•ï¼š*str.substring(indexA[, indexB])*

indexAã€indexB è¡¨ç¤ºå­—ç¬¦ä¸²ç´¢å¼•ï¼Œå…¶ä¸­ indexB å¯é€‰ï¼Œå¦‚æœçœç•¥ï¼Œåˆ™è¡¨ç¤ºè¿”å›ä» indexA åˆ°å­—ç¬¦ä¸²æœ«å°¾çš„å­ä¸²ã€‚

**æè¿°**

substring è¦æˆªå–çš„æ˜¯ä» indexA åˆ° indexBï¼ˆä¸åŒ…å«ï¼‰ä¹‹é—´çš„å­—ç¬¦ï¼Œç¬¦åˆä»¥ä¸‹è§„å¾‹ï¼š

- è‹¥ indexA == indexBï¼Œåˆ™è¿”å›ä¸€ä¸ªç©ºå­—ç¬¦ä¸²ï¼›
- è‹¥ çœç•¥ indexBï¼Œåˆ™æå–å­—ç¬¦ä¸€ç›´åˆ°å­—ç¬¦ä¸²æœ«å°¾ï¼›
- è‹¥ ä»»ä¸€å‚æ•°å°äº 0 æˆ– NaNï¼Œåˆ™è¢«å½“ä½œ 0ï¼›
- è‹¥ ä»»ä¸€å‚æ•°å¤§äº lengthï¼Œåˆ™è¢«å½“ä½œ lengthã€‚

è€Œ å¦‚æœ indexA > indexBï¼Œåˆ™ substring çš„æ‰§è¡Œæ•ˆæœå°±åƒæ˜¯ä¸¤ä¸ªå‚æ•°è°ƒæ¢ä¸€èˆ¬ã€‚æ¯”å¦‚ï¼šstr.substring(0, 1) == str.substring(1, 0)

```JavaScript
var str = "Get outside every day. Miracles are waiting everywhere.";
console.log(str.substring(1,1)); // ""
console.log(str.substring(0)); // Get outside every day. Miracles are waiting everywhere.
console.log(str.substring(-1)); // Get outside every day. Miracles are waiting everywhere.
console.log(str.substring(0,100)); // Get outside every day. Miracles are waiting everywhere.
console.log(str.substring(22,NaN)); // Get outside every day.
```

##### toLocaleLowerCase/toLocaleUpperCase

toLocaleLowerCase() æ–¹æ³•è¿”å›è°ƒç”¨è¯¥æ–¹æ³•çš„å­—ç¬¦ä¸²è¢«è½¬æ¢æˆå°å†™çš„å€¼ï¼Œè½¬æ¢è§„åˆ™æ ¹æ®æœ¬åœ°åŒ–çš„å¤§å°å†™æ˜ å°„ã€‚è€ŒtoLocaleUpperCase() æ–¹æ³•åˆ™æ˜¯è½¬æ¢æˆå¤§å†™çš„å€¼ã€‚

è¯­æ³•ï¼š*str.toLocaleLowerCase()*, *str.toLocaleUpperCase()*

```JavaScript
console.log('ABCDEFG'.toLocaleLowerCase()); // abcdefg
console.log('abcdefg'.toLocaleUpperCase()); // ABCDEFG
```

##### toLowerCase/toUpperCase

è¿™ä¸¤ä¸ªæ–¹æ³•åˆ†åˆ«è¡¨ç¤ºå°†å­—ç¬¦ä¸²è½¬æ¢ä¸ºç›¸åº”çš„å°å†™ï¼Œå¤§å†™å½¢å¼ï¼Œå¹¶è¿”å›ã€‚å¦‚ä¸‹ï¼š

```JavaScript
console.log('ABCDEFG'.toLowerCase()); // abcdefg
console.log('abcdefg'.toUpperCase()); // ABCDEFG
```

##### toString/valueOf

è¿™ä¸¤ä¸ªæ–¹æ³•éƒ½æ˜¯è¿”å›å­—ç¬¦ä¸²æœ¬èº«ã€‚

è¯­æ³•ï¼š*str.toString()*, *str.valueOf()*

```JavaScript
var str = "abc";
console.log(str.toString()); // abc
console.log(str.toString()==str.valueOf()); // true
```

å¯¹äºå¯¹è±¡è€Œè¨€ï¼ŒtoStringå’ŒvalueOfä¹Ÿæ˜¯éå¸¸çš„ç›¸ä¼¼ï¼Œå®ƒä»¬ä¹‹é—´æœ‰ç€ç»†å¾®çš„å·®åˆ«ï¼Œè¯·å°è¯•è¿è¡Œä»¥ä¸‹ä¸€æ®µä»£ç ï¼š

```JavaScript
var x = {
    toString: function () { return "test"; },
    valueOf: function () { return 123; }
};

console.log(x); // test
console.log("x=" + x); // "x=123"
console.log(x + "=x"); // "123=x"
console.log(x + "1"); // 1231
console.log(x + 1); // 124
console.log(["x=", x].join("")); // "x=test"
1234567891011
```

å½“ â€œ+â€ æ“ä½œç¬¦ä¸€è¾¹ä¸ºæ•°å­—æ—¶ï¼Œå¯¹è±¡xè¶‹å‘äºè½¬æ¢ä¸ºæ•°å­—ï¼Œè¡¨è¾¾å¼ä¼šä¼˜å…ˆè°ƒç”¨ valueOf æ–¹æ³•ï¼Œå¦‚æœè°ƒç”¨æ•°ç»„çš„ join æ–¹æ³•ï¼Œå¯¹è±¡xè¶‹å‘äºè½¬æ¢ä¸ºå­—ç¬¦ä¸²ï¼Œè¡¨è¾¾å¼ä¼šä¼˜å…ˆè°ƒç”¨ toString æ–¹æ³•ã€‚

##### trim

trim() æ–¹æ³•æ¸…é™¤å­—ç¬¦ä¸²é¦–å°¾çš„ç©ºç™½å¹¶è¿”å›ã€‚

è¯­æ³•ï¼š*str.trim()*

```
console.log(" a b c ".trim()); // "a b c"
```

åº•å±‚å®ç°ï¼š

```JavaScript
if(!String.prototype.trim) {
  String.prototype.trim = function () {
    return this.replace(/^\s+|\s+$/g,'');
  };
}
```

##### codePointAtï¼ˆES6ï¼‰

codePointAt() æ–¹æ³•åŸºäº**ECMAScript 2015ï¼ˆES6ï¼‰è§„èŒƒ**ï¼Œè¿”å›ä½¿ç”¨UTF-16ç¼–ç çš„ç»™å®šä½ç½®çš„å€¼çš„éè´Ÿæ•´æ•°ã€‚

è¯­æ³•ï¼š*str.codePointAt(position)*

```JavaScript
// str.codePointAt(pos),stræ˜¯éœ€è¦è½¬ç çš„å­—ç¬¦ä¸²ï¼Œposæ˜¯å­—ç¬¦ä¸²ä¸­æŸä¸ªå­—ç¬¦çš„ä½ç½® 
console.log("abc".codePointAt(1)); // 98
console.log("\u4f60\u597d".codePointAt(0)); // 20320
```

##### includesï¼ˆES6ï¼‰

includes() æ–¹æ³•åŸºäº**ECMAScript 2015ï¼ˆES6ï¼‰è§„èŒƒ**ï¼Œå®ƒç”¨æ¥åˆ¤æ–­ä¸€ä¸ªå­—ç¬¦ä¸²æ˜¯å¦å±äºå¦ä¸€ä¸ªå­—ç¬¦ã€‚å¦‚æœæ˜¯ï¼Œåˆ™è¿”å›trueï¼Œå¦åˆ™è¿”å›falseã€‚ 

è¯­æ³•ï¼š*str.includes(subString [, position])*

subString è¡¨ç¤ºè¦æœç´¢çš„å­—ç¬¦ä¸²ï¼Œposition è¡¨ç¤ºä»å½“å‰å­—ç¬¦ä¸²çš„å“ªä¸ªä½ç½®å¼€å§‹æœç´¢å­—ç¬¦ä¸²ï¼Œé»˜è®¤å€¼ä¸º0ã€‚

```JavaScript
var str = "Practice makes perfect.";
console.log(str.includes("perfect")); // true
console.log(str.includes("perfect",100)); // false
```

##### endsWithï¼ˆES6ï¼‰

endsWith() æ–¹æ³•åŸºäº**ECMAScript 2015ï¼ˆES6ï¼‰è§„èŒƒ**ï¼Œå®ƒåŸºæœ¬ä¸ contains() åŠŸèƒ½ç›¸åŒï¼Œä¸åŒçš„æ˜¯ï¼Œå®ƒç”¨æ¥åˆ¤æ–­ä¸€ä¸ªå­—ç¬¦ä¸²æ˜¯å¦æ˜¯åŸå­—ç¬¦ä¸²çš„ç»“å°¾ã€‚è‹¥æ˜¯åˆ™è¿”å›trueï¼Œå¦åˆ™è¿”å›falseã€‚

è¯­æ³•ï¼š*str.endsWith(substring [, position])*

ä¸contains æ–¹æ³•ä¸åŒï¼Œposition å‚æ•°çš„é»˜è®¤å€¼ä¸ºå­—ç¬¦ä¸²é•¿åº¦ã€‚

```JavaScript
var str = "Learn and live.";
console.log(str.endsWith("live.")); // true
console.log(str.endsWith("Learn",5)); // true
```

##### normalizeï¼ˆES6ï¼‰

normalize() æ–¹æ³•åŸºäº**ECMAScript 2015ï¼ˆES6ï¼‰è§„èŒƒ**ï¼Œå®ƒä¼šæŒ‰ç…§æŒ‡å®šçš„ Unicode æ­£è§„å½¢å¼å°†åŸå­—ç¬¦ä¸²æ­£è§„åŒ–ã€‚

è¯­æ³•ï¼š*str.normalize([form])*

form å‚æ•°å¯çœç•¥ï¼Œç›®å‰æœ‰å››ç§ Unicode æ­£è§„å½¢å¼ï¼Œå³ â€œNFCâ€ã€â€NFDâ€ã€â€NFKCâ€ ä»¥åŠ â€œNFKDâ€ï¼Œformçš„é»˜è®¤å€¼ä¸º â€œNFCâ€ã€‚å¦‚æœform ä¼ å…¥äº†éæ³•çš„å‚æ•°å€¼ï¼Œåˆ™ä¼šæŠ›å‡º RangeError é”™è¯¯ã€‚

```JavaScript
var str = "\u4f60\u597d";
console.log(str.normalize()); // ä½ å¥½
console.log(str.normalize("NFC")); // ä½ å¥½
console.log(str.normalize("NFD")); // ä½ å¥½
console.log(str.normalize("NFKC")); // ä½ å¥½
console.log(str.normalize("NFKD")); // ä½ å¥½
```

##### repeatï¼ˆES6ï¼‰

repeat() æ–¹æ³•åŸºäº**ECMAScript 2015ï¼ˆES6ï¼‰è§„èŒƒ**ï¼Œå®ƒè¿”å›é‡å¤åŸå­—ç¬¦ä¸²å¤šæ¬¡çš„æ–°å­—ç¬¦ä¸²ã€‚

è¯­æ³•ï¼š*str.repeat(count)*

count å‚æ•°åªèƒ½å–å¤§äºç­‰äº0 çš„æ•°å­—ã€‚è‹¥è¯¥æ•°å­—ä¸ä¸ºæ•´æ•°ï¼Œå°†è‡ªåŠ¨è½¬æ¢ä¸ºæ•´æ•°å½¢å¼ï¼ˆå‘ä¸‹å–æ•´ï¼‰ï¼Œè‹¥ä¸ºè´Ÿæ•°æˆ–è€…å…¶ä»–å€¼å°†æŠ¥é”™ã€‚

```JavaScript
var str = "A still tongue makes a wise head.";
console.log(str.repeat(0)); // ""
console.log(str.repeat(1)); // A still tongue makes a wise head.
console.log(str.repeat(1.5)); // A still tongue makes a wise head.
console.log(str.repeat(-1)); // RangeError:Invalid count value
```

##### startWithï¼ˆES6ï¼‰

startsWith() æ–¹æ³•åŸºäº**ECMAScript 2015ï¼ˆES6ï¼‰è§„èŒƒ**ï¼Œå®ƒç”¨æ¥åˆ¤æ–­å½“å‰å­—ç¬¦ä¸²æ˜¯å¦æ˜¯ä»¥ç»™å®šå­—ç¬¦ä¸²å¼€å§‹çš„ï¼Œè‹¥æ˜¯åˆ™è¿”å›trueï¼Œå¦åˆ™è¿”å›falseã€‚

è¯­æ³•ï¼š*str.startsWith(subString [, position])*

```JavaScript
var str = "Where there is a will, there is a way.";
console.log(str.startsWith("Where")); // true
console.log(str.startsWith("there",6)); // true
```



#### HTMLæœ‰å…³æ–¹æ³•

å¸¸ç”¨çš„æ–¹æ³•æœ‰ anchorï¼ŒlinkÂ  

##### anchor

anchor() æ–¹æ³•åˆ›å»ºä¸€ä¸ªé”šæ ‡ç­¾ã€‚

è¯­æ³•ï¼š*str.anchor(name)*

name æŒ‡å®šè¢«åˆ›å»ºçš„aæ ‡ç­¾çš„nameå±æ€§ï¼Œä½¿ç”¨è¯¥æ–¹æ³•åˆ›å»ºçš„é”šç‚¹ï¼Œå°†ä¼šæˆä¸º document.anchors æ•°ç»„çš„å…ƒç´ ã€‚

```JavaScript
var str = "this is a anchor tag";
document.body.innerHTML = document.body.innerHTML + str.anchor("anchor1");// bodyæœ«å°¾å°†ä¼šè¿½åŠ è¿™äº›å†…å®¹ <a name="anchor1">this is a anchor tag</a>
//strä½œä¸ºaæ ‡ç­¾çš„æ–‡æœ¬å†…å®¹ï¼Œanchor1ä½œä¸ºaæ ‡ç­¾çš„nameå±æ€§å€¼ã€‚
```

##### link

link() æ–¹æ³•åŒæ ·åˆ›å»ºä¸€ä¸ªaæ ‡ç­¾ã€‚

è¯­æ³•ï¼š*str.link(url)*

url æŒ‡å®šè¢«åˆ›å»ºçš„aæ ‡ç­¾çš„hrefå±æ€§ï¼Œå¦‚æœurlä¸­åŒ…å«ç‰¹æ®Šå­—ç¬¦ï¼Œå°†è‡ªåŠ¨è¿›è¡Œç¼–ç ã€‚ä¾‹å¦‚ `"` ä¼šè¢«è½¬ä¹‰ä¸º `&\quot`ã€‚ ä½¿ç”¨è¯¥æ–¹æ³•åˆ›å»ºçš„aæ ‡ç­¾ï¼Œå°†ä¼šæˆä¸º document.links æ•°ç»„ä¸­çš„å…ƒç´ ã€‚

``` JavaScript
var str = "ç™¾åº¦";
document.write(str.link("https://www.baidu.com")); 
// <a href="https://www.baidu.com">ç™¾åº¦</a>
```

### 

























































































































































































































































































