### 1、Doctype作用？

#### 定义

DOCTYPE标签是一种标准通用标记语言的文档类型声明，它的目的是要告诉标准通用标记语言解析器，它应该使用什么样的文档类型定义（DTD）来解析文档。

`<!DOCTYPE>` 声明必须是 HTML 文档的第一行，位于 `<html> `标签之前。

#### 作用

声明文档的解析类型(document.compatMode)，避免浏览器的怪异模式。查看浏览器的模式的方法是：`document.compatMode`

**BackCompat：怪异模式，浏览器使用自己的怪异模式解析渲染页面。(与浏览器有关)**

**CSS1Compat：标准模式，浏览器使用W3C的标准解析渲染页面（与浏览器无关）。**

------

### 2、DOM和BOM的区别

DOM是一个使程序和脚本有能力动态地访问和更新文档的内容、结构以及样式的平台和语言中立的**接口**。DOM的最根本对象是document（window.document）。

而BOM（浏览器对象模型）定义了JavaScript可以进行操作的浏览器的各个功能部件的接口。BOM的最核心对象是window对象。

![](E:\WebStorm_Dir\articles\images\DOM&BOM.webp)

![](E:\WebStorm_Dir\articles\images\DOM&BOM2.webp)

### 3、什么是margin-collapse？

margin-collapse	是	垂直外边距折叠。

#### 避免外边距叠加的方法：

- 浮动元素不会与任何元素发生叠加，也包括它的子元素

- 创建了 BFC 的元素不会和它的子元素发生外边距叠加

- 绝对定位元素和其他任何元素之间不发生外边距叠加，也包括它的子元素

- inline-block 元素和其他任何元素之间不发生外边距叠加，也包括它的子元素


- 普通流中的块级元素的 margin-bottom 永远和它相邻的下一个块级元素的 margin-top 叠加，除非相邻的兄弟元素 clear

- 垂直方向margin设置为0，或者只存在top或者只存在bottom




### 4、对BFC的理解？

#### 常见定位方法

- 普通流 (normal flow)
- 浮动 (float)
- 绝对定位 (absolute positioning)

#### BFC的概念

块级格式化上下文，它是页面中的一块渲染区域，并且有一套渲染规则，它决定了其子元素将如何定位，以及和其他元素的关系和相互作用。它属于上述定位方案的普通流。

**具有 BFC 特性的元素可以看作是隔离了的独立容器，容器里面的元素不会在布局上影响到外面的元素，并且 BFC 具有普通容器所没有的一些特性。**

可以把 BFC 理解为一个封闭的大箱子，箱子内部的元素无论如何翻江倒海，都不会影响到外部。

#### BFC的特性与应用

1.  同一个 BFC 下外边距会发生折叠

   如果想要避免外边距的重叠，可以将其放在不同的 BFC 容器中。

2. BFC 可以包含浮动的元素（清除浮动）

3. BFC 可以阻止元素被浮动元素覆盖



### [伪类和伪元素](http://www.alloyteam.com/2016/05/summary-of-pseudo-classes-and-pseudo-elements/)

CSS 伪类用于向某些选择器 **添加** 特殊的效果。由一个冒号开头。

CSS 伪元素用于向某些选择器 **设置** 特殊效果。由两个冒号开头。



伪类对应的是一个DOM对象，可以使用js的document接口获取到，而伪元素对应的是第一个字符，或者第一行文本，无法使用js的document接口获取。

因此，伪类与伪元素的区别在于：**有没有创建一个文档树之外的元素**。

大部分伪元素都支持单冒号和双冒号的写法，比如::after，写成:after也可以正确运行。

![](E:\WebStorm_Dir\articles\images\伪类.png)

![](E:\WebStorm_Dir\articles\images\伪元素.png)

- :before在被选元素前插入内容。需要使用content属性来指定要插入的内容。被插入的内容实际上不在文档树中。
- :after在被元素后插入内容，其用法和特性与:before相似。
- :first-letter匹配元素中文本的首字母。被修饰的首字母不在文档树中。

- :first-line匹配元素中第一行的文本。这个伪元素只能用在块元素中，不能用在内联元素中。

- ::selection匹配用户被用户选中或者处于高亮状态的部分。在火狐浏览器使用时需要添加-moz前缀。该伪元素只支持双冒号的形式。

- ::placeholder匹配占位符的文本，只有元素设置了placeholder属性时，该伪元素才能生效。该伪元素不是CSS的标准，它的实现可能在将来会有所改变，所以要决定使用时必须谨慎。在一些浏览器中（IE10和Firefox18及其以下版本）会使用单冒号的形式。
- ::backdrop用于改变全屏模式下的背景颜色，全屏模式的默认颜色为黑色。该伪元素只支持双冒号的形式



### [浏览器都包含那些进程？](https://juejin.im/post/5a6547d0f265da3e283a1df7)

1. Browser进程：浏览器的主进程（负责协调、主控），只有一个。作用有

   - 负责浏览器界面显示，与用户交互。如前进，后退等

   - 负责各个页面的管理，创建和销毁其他进程

   - 将Renderer进程得到的内存中的Bitmap，绘制到用户界面上

   - 网络资源的管理，下载等

2. 第三方插件进程：每种类型的插件对应一个进程，仅当使用该插件时才创建

3. GPU进程：最多一个，用于3D绘制等

4. 浏览器渲染进程（<span style="color:#f00">浏览器内核</span>）（Renderer进程，内部是多线程的）：默认每个Tab页面一个进程，互不影响。主要作用为

   - 页面渲染
   - 脚本执行
   - 事件循环

#### 浏览器多进程的好处

相比于单进程浏览器，多进程有如下优点：

- 避免单个page crash影响整个浏览器
- 避免第三方插件crash影响整个浏览器
- 多进程充分利用多核优势
- 方便使用沙盒模型隔离插件等进程，提高浏览器稳定性

简单点理解：**如果浏览器是单进程，那么某个Tab页崩溃了，就影响了整个浏览器，体验有多差；同理如果是单进程，插件崩溃了也会影响整个浏览器；**

<span style="color:#f00">当然，内存等资源消耗也会更大，有点空间换时间的意思</span>

#### 渲染进程

主要包含以下线程：

1. **GUI渲染线程**

   - 负责渲染浏览器界面，解析HTML，CSS，构建DOM树和RenderObject树，布局和绘制等。

   - 当界面需要重绘（Repaint）或由于某种操作引发回流(reflow)时，该线程就会执行

   - 注意，**GUI渲染线程与JS引擎线程是互斥的**，当JS引擎执行时GUI线程会被挂起（相当于被冻结了），GUI更新会被保存在一个队列中**等到JS引擎空闲时**立即被执行。

2. JS**引擎线程**

   - JS引擎线程负责解析Javascript脚本，运行代码。

   - JS引擎一直等待着任务队列中任务的到来，然后加以处理，一个Tab页（renderer进程）中无论什么时候都只有一个JS线程在运行JS程序

   - 同样注意，**GUI渲染线程与JS引擎线程是互斥的**，所以如果JS执行的时间过长，这样就会造成页面的渲染不连贯，导致页面渲染加载阻塞。

3. **事件触发线程**

   - 归属于浏览器而不是JS引擎，用来控制事件循环（可以理解，JS引擎自己都忙不过来，需要浏览器另开线程协助）
   - 当JS引擎执行代码块如setTimeOut时（也可来自浏览器内核的其他线程,如鼠标点击、AJAX异步请求等），会将对应任务添加到事件线程中
   - 当对应的事件符合触发条件被触发时，该线程会把事件添加到待处理队列的队尾，等待JS引擎的处理
   - 注意，由于JS的单线程关系，所以这些待处理队列中的事件都得排队等待JS引擎处理（当JS引擎空闲时才会去执行）

4. **定时器线程**

   - `setInterval`与`setTimeout`所在线程
   - 浏览器定时计数器并不是由JavaScript引擎计数的,（因为JavaScript引擎是单线程的, 如果处于阻塞线程状态就会影响记计时的准确），而是通过单独线程来计时并触发定时
   - W3C在HTML标准中规定，规定要求setTimeout中低于4ms的时间间隔算为4ms。

5. **异步http请求线程**

   - 在XMLHttpRequest在连接后是通过浏览器新开一个线程请求
   - 将检测到状态变更时，如果设置有回调函数，异步线程就**产生状态变更事件**，将这个回调再放入事件队列中。再由JavaScript引擎执行。































































































































































